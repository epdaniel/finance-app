(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},180:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),s=n(14),i=n.n(s),o=(n(156),n(20)),l=(n(157),n(131)),j=n(5),u=Object(j.a)({backgroundDiv:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",position:"fixed",top:"0px",display:"flex",justifyContent:"center",alignItems:"center"},wrapperDiv:{width:"550px",height:"600px",boxShadow:"0 5px 16px rgba(0, 0, 0, 0.2)",background:"#fff",color:"#000",gridTemplateColumns:"1fr 1fr",position:"relative",zIndex:10,borderRadius:"10px",padding:"5px"},closeButton:{cursor:"pointer",position:"absolute",top:"20px",right:"20px",width:"32px",height:"32px",padding:0,zIndex:10}})((function(e){var t=e.showModal,n=e.setShowModal,r=e.children,s=e.classes,i=Object(c.useRef)();return Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&t&&n(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n,t]),Object(a.jsx)(a.Fragment,{children:t?Object(a.jsx)("div",{className:s.backgroundDiv,ref:i,onClick:function(e){i.current===e.target&&n(!1)},children:Object(a.jsxs)("div",{className:s.wrapperDiv,children:[Object(a.jsx)(l.a,{className:s.closeButton,"aria-label":"Close",onClick:function(){return n(!1)}}),r]})}):null})})),d=function(){var e="",t=-1,n="",a=!1;return{getName:function(){return e},setName:function(t){e=t,localStorage.setItem("fullName",t)},getId:function(){return t},setId:function(e){t=e,localStorage.setItem("ID",e)},getImgUrl:function(){return n},setImgUrl:function(e){n=e,localStorage.setItem("userIMG",e)},logOut:function(){this.setId(null),this.setName(""),this.setImgUrl(""),this.setLoggedIn(!1),localStorage.clear()},isLoggedIn:function(){return a},setLoggedIn:function(e){a=e},login:function(e,t,n){this.setId(e),this.setName(t),this.setImgUrl(n),this.setLoggedIn(!0)},tryRememberLogin:function(){return null!==localStorage.getItem("ID")&&(this.login(localStorage.getItem("ID"),localStorage.getItem("fullName"),localStorage.getItem("userIMG")),!0)}}}(),b=n(238),g=n(77),m="232952519661-430s05vr9he9sf0o45b88nde6jid56vg.apps.googleusercontent.com",x=Object(j.a)({GoogleContainer:{margin:0},UserImage:{width:"30px",marginRight:"-2px",marginBottom:"-5px",borderRadius:"50%"}})((function(e){var t=e.classes,n=e.logInCallback,r=Object(c.useState)(d.tryRememberLogin()),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(a.jsx)(b.a,{container:!0,className:t.GoogleContainer,direction:"row",spacing:1,justify:"center",alignItems:"center",children:i?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)("img",{className:t.UserImage,src:d.getImgUrl(),alt:"Google User"})}),Object(a.jsx)(b.a,{item:!0,children:Object(a.jsxs)("b",{children:[" ",d.getName()," "]})}),Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)(g.GoogleLogout,{clientId:m,buttonText:"Sign out",onLogoutSuccess:function(e){d.logOut(),l(!1)},onFailure:function(e){alert("Failed to log out")}})})]}):Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)(g.GoogleLogin,{clientId:m,buttonText:"Sign in",onSuccess:function(e){var t=e.getBasicProfile();d.login(e.getAuthResponse().id_token,t.getName(),t.getImageUrl()),e.accessToken&&(l(!0),n())},onFailure:function(e){alert("Failed to log in")},cookiePolicy:"single_host_origin",responseType:"code,token"})})})})),h=n(205),O=Object(j.a)({HeaderContainer:{width:"100%",margin:0,padding:6,marginBottom:10,backgroundColor:"#00adb5"},modalButton:{marginLeft:"10px",marginRight:"10px"},header:{color:"#eeeeee"}})((function(e){var t=e.classes,n=e.logInCallback;return Object(a.jsxs)(b.a,{container:!0,className:t.HeaderContainer,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)(h.a,{variant:"h4",className:t.header,children:"Finance App"})}),Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)(x,{logInCallback:n})})]})})),f=n(13),p=n.n(f),y=n(22),v=n(64),I=n.n(v),C=n(50),S=n(51),k=n(132),w=n(130),L=(n(180),function(e){Object(k.a)(n,e);var t=Object(w.a)(n);function n(e){var a;return Object(C.a)(this,n),(a=t.call(this,e)).state={description:e.entry.description,amount:e.entry.amount,category:e.entry.category,subCategory:e.entry.subCategory,date:e.entry.timestamp},a}return Object(S.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Entry",children:[Object(a.jsxs)("b",{className:"EntryDesc",children:[this.state.description," "]}),Object(a.jsx)("label",{children:"Amount:"}),Object(a.jsxs)("b",{children:[this.state.amount," "]}),Object(a.jsx)("label",{children:"Category:"}),Object(a.jsxs)("b",{children:[this.state.category," "]}),Object(a.jsx)("label",{children:"Sub-category:"}),Object(a.jsxs)("b",{children:[this.state.subCategory," "]}),Object(a.jsx)("label",{children:"Date:"}),Object(a.jsxs)("b",{children:[this.state.date," "]})]})}}]),n}(n(0).Component)),N=Object(j.a)({})((function(e){e.classes;var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],s=n[1];Object(c.useEffect)((function(){console.log("Loading entries!"),i()}),[]);var i=function(){var e=Object(y.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.isLoggedIn()?I.a.get("/entries/all",{headers:{id_token:d.getId()}}).then((function(e){console.log(e);var t=e.data;console.log("got "+t.length+" entries"),s(e.data)})).catch((function(e){alert("PLACEHOLDER ERROR DISPLAY: "+e.message)})):s([]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Array.isArray(r)&&0!==r.length?r.map((function(e,t){return Object(a.jsx)(L,{entry:e},t)})):Object(a.jsx)("div",{children:"No Transactions yet."})})})),E=n(45),D=n(39),R=n(245),A=n(249),T=n(248),B=n(242),F=n(246),P=n(240),U=n(111),G=n(17),M=n(243),_={description:"",amount:"",category:"",subCategory:"",timestamp:new Date,isExpense:"expense"},H=Object(j.a)({EntryContainer:{width:"100%",margin:0},modalButton:{marginLeft:"10px",marginRight:"10px"}})((function(e){var t=e.classes,n=Object(D.b)({defaultValues:_}),c=n.handleSubmit,r=n.reset,s=n.control,i=function(){var e=Object(y.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id_token=d.getId(),t.isExpense="expense"===t.isExpense,e.next=4,I.a.post("/entries/add",t).catch((function(e){alert("PLACEHOLDER ERROR DISPLAY: "+e.response.data.message)}));case 4:alert("Added succesfully!"),r();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){console.log("handler!")};return Object(a.jsx)("form",{onSubmit:c(i),children:Object(a.jsxs)(b.a,{container:!0,className:t.EntryContainer,spacing:8,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(b.a,{item:!0,xs:12,sm:12,children:Object(a.jsx)(h.a,{variant:"h4",children:"Add Transaction"})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"description",control:s,render:function(e){var t=e.field;return Object(a.jsx)(R.a,Object(E.a)({label:"Description"},t))}})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"amount",control:s,render:function(e){var t=e.field;return Object(a.jsx)(R.a,Object(E.a)({label:"Sum",type:"number"},t))}})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"category",control:s,render:function(e){var t=e.field;return Object(a.jsx)(R.a,Object(E.a)({label:"Category"},t))}})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"subCategory",control:s,render:function(e){var t=e.field;return Object(a.jsx)(R.a,Object(E.a)({label:"Sub-Category"},t))}})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"timestamp",control:s,render:function(e){var t=e.field,n=t.onChange,c=t.value;return Object(a.jsx)(G.a,{utils:U.a,children:Object(a.jsx)(M.a,{label:"Date",value:c,onChange:n})})}})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(D.a,{name:"isExpense",control:s,render:function(e){var t=e.field;return Object(a.jsx)(A.a,{component:"fieldset",onChange:o,children:Object(a.jsxs)(T.a,Object(E.a)(Object(E.a)({"aria-label":"entryType",name:"entryType1"},t),{},{children:[Object(a.jsx)(B.a,{value:"expense",control:Object(a.jsx)(F.a,{}),label:"Expense"}),Object(a.jsx)(B.a,{value:"income",control:Object(a.jsx)(F.a,{}),label:"Income"})]}))})}})}),Object(a.jsxs)(b.a,{item:!0,xs:12,children:[Object(a.jsx)(P.a,{className:t.modalButton,type:"submit",variant:"contained",color:"primary",children:"Add Transaction"}),Object(a.jsx)(P.a,{className:t.modalButton,type:"button",variant:"contained",color:"secondary",onClick:function(){return r()},children:"Clear"})]})]})})}));var z=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],b=function(){d.isLoggedIn()?r((function(e){return!e})):j(!0)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(O,{logInCallback:function(){return j(!1)}}),Object(a.jsx)("button",{className:"addEntryButton",onClick:b,children:"Add entry"}),l&&Object(a.jsxs)("p",{children:[Object(a.jsx)("br",{}),"Please log in first!"]}),Object(a.jsx)(u,{showModal:n,setShowModal:b,children:Object(a.jsx)(H,{})}),Object(a.jsx)("h2",{children:"Transactions:"}),Object(a.jsx)(N,{})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),J()}},[[204,1,2]]]);
//# sourceMappingURL=main.f06aeec1.chunk.js.map